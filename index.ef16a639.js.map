{"mappings":"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","sources":["src/index.js"],"sourcesContent":["'use strict';\n\nconst search = document.querySelector('input[name=\"searchQuery\"]');\nconst searchButton = document.querySelector(\n  '.search-form button[type=\"submit\"]'\n);\n\n//options API\nconst showResult = image => {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = image;\n  const gallery = document.querySelector('.gallery');\n\n  const photoCard = document.createElement('div');\n  photoCard.classList.add('photo-card');\n\n  const img = document.createElement('img');\n  img.setAttribute('src', webformatURL);\n  img.alt = tags;\n  img.loading = 'lazy';\n\n  img.addEventListener('click', () => {\n    openModal(largeImageURL);\n  });\n\n  const openModal = imageURL => {\n    const modal = document.getElementById('modal');\n    const modalImage = document.querySelector('.modal-image');\n\n    modalImage.src = imageURL;\n    modal.style.display = 'block';\n  };\n\n  const closeModal = () => {\n    const modal = document.getElementById('modal');\n\n    modal.style.display = 'none';\n  };\n\n  const closeBtn = document.querySelector('.close');\n  closeBtn.addEventListener('click', closeModal);\n\n  const info = document.createElement('div');\n  info.classList.add('info');\n\n  const likesInfo = createInfoItem('Likes', likes);\n  const viewsInfo = createInfoItem('Views', views);\n  const commentsInfo = createInfoItem('Comments', comments);\n  const downloadsInfo = createInfoItem('Downloads', downloads);\n\n  info.append(likesInfo, viewsInfo, commentsInfo, downloadsInfo);\n  photoCard.append(img, info);\n  gallery.appendChild(photoCard);\n};\n\nconst modal = document.getElementById('modal');\nmodal.addEventListener('click', event => {\n  if (event.target === modal) {\n    closeModal();\n  }\n});\n\nconst createInfoItem = (label, value) => {\n  const infoItem = document.createElement('p');\n  infoItem.classList.add('info-item');\n  infoItem.innerHTML = `<b>${label}:</b> ${value}`;\n  return infoItem;\n};\n\n/* API */\nconst requestParams = {\n  key: '38204808-8b5a54ad42087b83e34935a48',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst getRequestURL = (params, page) => {\n  const baseURL = 'https://pixabay.com/api/';\n  const queryParams = {\n    ...params,\n    page,\n    per_page: 40,\n  };\n  const queryString = Object.entries(queryParams)\n    .map(\n      ([key, value]) =>\n        `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n    )\n    .join('&');\n  return `${baseURL}?${queryString}`;\n};\n\nconst getData = async (searchValue, page = 1) => {\n  requestParams.q = searchValue;\n  const URL = getRequestURL(requestParams, page);\n\n  try {\n    const response = await axios.get(URL);\n    const result = response.data;\n\n    if (result.hits.length > 0) {\n      result.hits.forEach(showResult);\n      showLoadMoreButton(result.totalHits, result.hits.length, page);\n    } else {\n      notiflix.Notify.failure(\n        'Sorry, there are no images matching your search query. Please try again.'\n      );\n    }\n  } catch (error) {\n    console.error(error);\n    notiflix.Notify.failure(\n      'An error occurred while fetching data. Please try again.'\n    );\n  }\n};\n//przycisk Load more\nconst showLoadMoreButton = (totalHits, currentCount, page) => {\n  const loadMoreButton = document.querySelector('.load-more');\n  if (currentCount >= totalHits) {\n    loadMoreButton.style.display = 'none';\n    notiflix.Notify.info(\n      \"We're sorry, but you've reached the end of search results.\"\n    );\n  } else {\n    loadMoreButton.style.display = 'block';\n    loadMoreButton.dataset.page = page;\n  }\n};\n\nconst loadMoreButton = document.querySelector('.load-more');\nloadMoreButton.addEventListener('click', () => {\n  const page = parseInt(loadMoreButton.dataset.page) + 1;\n  const searchValue = search.value;\n  getData(searchValue, page);\n});\n\n//Event Listener\nsearchButton.addEventListener('click', e => {\n  e.preventDefault();\n  const gallery = document.querySelector('.gallery');\n  const searchValue = search.value;\n  getData(searchValue);\n  search.value = '';\n});\n\n//AXIOS\n// Make a request for a user with a given ID\naxios\n  .get('/user?ID=12345')\n  .then(function (response) {\n    // handle success\n    console.log(response);\n  })\n  .catch(function (error) {\n    // handle error\n    console.log(error);\n  })\n  .finally(function () {\n    // always executed\n  });\n\n// Optionally the request above could also be done as\naxios\n  .get('/user', {\n    params: {\n      ID: 12345,\n    },\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  })\n  .finally(function () {\n    // always executed\n  });\n\n// Want to use async/await? Add the `async` keyword to your outer function/method.\nasync function getUser() {\n  try {\n    const response = await axios.get('/user?ID=12345');\n    console.log(response);\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$search","document","querySelector","$1f0dc3b9307be026$var$searchButton","$1f0dc3b9307be026$var$showResult","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","photoCard","createElement","classList","add","img","setAttribute","alt","loading","addEventListener","openModal","imageURL","modal1","getElementById","src","style","display","info","likesInfo","$1f0dc3b9307be026$var$createInfoItem","viewsInfo","commentsInfo","downloadsInfo","append","appendChild","$1f0dc3b9307be026$var$modal","event","target","closeModal","label","value","infoItem","innerHTML","$1f0dc3b9307be026$var$requestParams","key","q","image_type","orientation","safesearch","$1f0dc3b9307be026$var$getData","async","searchValue","page","URL","params","queryParams","per_page","Object","entries","map","encodeURIComponent","join","$1f0dc3b9307be026$var$getRequestURL","result","axios","get","data","hits","length","forEach","$1f0dc3b9307be026$var$showLoadMoreButton","totalHits","notiflix","Notify","failure","error","console","currentCount","loadMoreButton1","dataset","$1f0dc3b9307be026$var$loadMoreButton","parseInt","e","preventDefault","then","response","log","catch","finally","ID"],"version":3,"file":"index.ef16a639.js.map"}